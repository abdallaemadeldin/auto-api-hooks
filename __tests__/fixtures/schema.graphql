type Query {
  pets(limit: Int, offset: Int): PetConnection!
  pet(id: ID!): Pet
  users: [User!]!
  user(id: ID!): User
}

type Mutation {
  createPet(input: CreatePetInput!): Pet!
  updatePet(id: ID!, input: UpdatePetInput!): Pet!
  deletePet(id: ID!): Boolean!
  createUser(input: CreateUserInput!): User!
}

type Subscription {
  petCreated: Pet!
  petUpdated(id: ID!): Pet!
  onMessage(channel: String!): Message!
}

type Message {
  id: ID!
  text: String!
  createdAt: String!
}

type Pet {
  id: ID!
  name: String!
  tag: String
  status: PetStatus!
}

enum PetStatus {
  AVAILABLE
  PENDING
  SOLD
}

type User {
  id: ID!
  username: String!
  email: String!
}

type PetConnection {
  edges: [PetEdge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type PetEdge {
  node: Pet!
  cursor: String!
}

type PageInfo {
  hasNextPage: Boolean!
  endCursor: String
}

input CreatePetInput {
  name: String!
  tag: String
  status: PetStatus
}

input UpdatePetInput {
  name: String
  tag: String
  status: PetStatus
}

input CreateUserInput {
  username: String!
  email: String!
}
